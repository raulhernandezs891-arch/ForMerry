<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Merry, Â¿EstÃ¡s lista? ğŸ</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700;800&family=Patrick+Hand&display=swap" rel="stylesheet">
<style>
:root {
  --yellow-bob: #effd5f;
  --pink-patrick: #ff91d7;
  --blue-ocean: #00d2ff;
  --flower-color: rgba(255, 255, 255, 0.4);
  --gold: #ffd700;
  --brown-pants: #6d4c41;
}

body {
  margin: 0; padding: 0;
  font-family: 'Baloo 2', cursive;
  background: #00d2ff;
  background-image: 
    radial-gradient(circle at 10% 20%, var(--flower-color) 30px, transparent 30px),
    radial-gradient(circle at 90% 80%, var(--flower-color) 40px, transparent 40px),
    linear-gradient(#4facfe, #00f2fe);
  background-size: 250px 250px, 400px 400px, 100% 100%;
  color: #1a4a5e;
  overflow: hidden;
  width: 100vw; height: 100vh;
}

/* BURBUJAS DE FONDO CONSTANTES */
.bg-bubble {
  position: absolute;
  background: rgba(255, 255, 255, 0.5);
  border: 2px solid white;
  border-radius: 50%;
  pointer-events: none;
  bottom: -100px;
  animation: floatUp 6s linear infinite;
}

@keyframes floatUp {
  0% { transform: translateY(0) scale(0.8); opacity: 0; }
  20% { opacity: 0.6; }
  100% { transform: translateY(-120vh) translateX(50px) scale(1.2); opacity: 0; }
}

/* BARRA DE CARGA INICIAL */
#loading-screen {
  position: fixed; inset: 0; background: var(--blue-ocean);
  z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center;
}
.loader-bar {
  width: 70%; height: 25px; background: white; border: 4px solid var(--brown-pants);
  border-radius: 15px; overflow: hidden; margin-top: 15px;
}
.loader-fill { width: 0%; height: 100%; background: var(--yellow-bob); transition: width 0.3s; }

.screen {
  min-height: 100vh; width: 100vw;
  padding: 20px; box-sizing: border-box;
  display: none; align-items: center; justify-content: center;
  position: absolute; top: 0; left: 0; z-index: 10;
}
.screen.active { display: flex; animation: bounceIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

@keyframes bounceIn { 
  from { opacity: 0; transform: scale(0.5) translateY(100px); } 
  to { opacity: 1; transform: scale(1) translateY(0); } 
}

.card {
  background: rgba(255, 255, 255, 0.95);
  border: 8px solid var(--yellow-bob);
  border-radius: 40px 20px;
  padding: 30px;
  box-shadow: 0 15px 0px var(--brown-pants);
  text-align: center;
  width: 100%; max-width: 320px;
  animation: cardFloat 3s ease-in-out infinite;
}

@keyframes cardFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

.shake-it { animation: crazyShake 0.1s infinite; }
@keyframes crazyShake {
  0% { transform: translate(3px, 3px) rotate(0deg); }
  50% { transform: translate(-3px, -3px) rotate(1deg); }
  100% { transform: translate(3px, 2px) rotate(-1deg); }
}

h1 { font-family: 'Patrick Hand', cursive; font-size: 2.2rem; color: #d4a017; margin: 0; }
p { font-size: 1.1rem; font-weight: 700; color: #333; }

.btn-container { display: flex; flex-direction: column; align-items: center; gap: 15px; margin-top: 25px; }
.btn {
  width: 90%; padding: 15px; border-radius: 20px;
  background: var(--yellow-bob); border: 4px solid var(--brown-pants);
  color: var(--brown-pants); font-weight: 800; font-size: 1rem;
  cursor: pointer; box-shadow: 0 6px 0px var(--brown-pants);
  transition: 0.1s;
}
.btn:active { transform: translateY(4px); box-shadow: 0 2px 0px var(--brown-pants); }

.btn.special { background: var(--pink-patrick); color: white; border-color: #ad1457; box-shadow: 0 6px 0px #ad1457; }

/* PARTICULAS DE EXPLOSIÃ“N ESTILO FLORES */
.flower-particle {
  position: fixed; pointer-events: none; z-index: 999;
  font-size: 50px;
}

#adventureMode {
  display: none; position: fixed; inset: 0; background: radial-gradient(circle, #ff91d7 0%, #00d2ff 100%);
  z-index: 2000; align-items: center; justify-content: center; flex-direction: column; text-align: center;
}
#adventureText { font-size: 1.8rem; color: white; text-shadow: 3px 3px 0px var(--brown-pants); padding: 30px; font-weight: 800; }

#countdown { font-size: 6rem; color: #ff1744; font-family: 'Patrick Hand'; text-shadow: 4px 4px 0px white; }
</style>
</head>
<body id="mainBody">

<audio id="popSound" preload="auto">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-cartoon-bubble-pop-2895.mp3">
</audio>

<div id="loading-screen">
  <h1 style="color:white">Â¿EstÃ¡s lista, Merry?</h1>
  <div class="loader-bar"><div class="loader-fill" id="fill"></div></div>
  <p style="color:white; margin-top:10px;" id="load-text">Preparando las Cangreburgers...</p>
</div>

<div id="bgBubblesContainer"></div>

<section class="screen" id="s1">
  <div class="card">
    <h1>Â¡MERRY! ğŸ</h1>
    <p>Â¡No oigo nadaaaaa!</p>
    <p>He preparado una sorpresa directamente desde Fondo de Bikini...</p>
    <div class="btn" onclick="next(1)">Â¡ESTOY LISTA, CAPITÃN! âš“</div>
  </div>
</section>

<section class="screen" id="s2">
  <div class="card">
    <p>A veces siento que vivo en una burbuja de felicidad cuando estoy contigo.</p>
    <p>No importa si somos una estrella de mar o una esponja, Â¡hacemos el mejor equipo! â­ï¸</p>
    <div class="btn" onclick="next(2)">Siguiente ğŸ«§</div>
  </div>
</section>

<section class="screen" id="s3">
  <div class="card">
    <p>Me encanta tu forma de ser, Merry. Eres mÃ¡s valiosa que la fÃ³rmula secreta (y mÃ¡s linda que una medusa brillante).</p>
    <div class="btn" onclick="next(3)">Jeje, continÃºa... ğŸ˜Š</div>
  </div>
</section>

<section class="screen" id="s4">
  <div class="card">
    <p>Contigo, un lunes cualquiera se siente como un dÃ­a de campo en los Campos de Medusas.</p>
    <p>Gracias por ser tan tÃº, tan real y tan increÃ­ble. â¤ï¸</p>
    <div class="btn" onclick="next(4)">Toca aquÃ­ ğŸš</div>
  </div>
</section>

<section class="screen" id="s5">
  <div class="card">
    <h1>Merry... âœ¨</h1>
    <p>Hoy 9 de febrero de 2026, quiero decirte algo que no cabe en un correo ni en una carta...</p>
    <p>Â¿EstÃ¡s lista para la pregunta de tu vida?</p>
    <div class="btn" onclick="next(5)">Â¡SÃ! ğŸ’–</div>
  </div>
</section>

<section class="screen" id="s6">
  <div class="card">
    <h1 style="font-size: 2.5rem;">Â¿Quieres ser mi novia? â¤ï¸</h1>
    <p>Prometo que no nos faltarÃ¡ diversiÃ³n, risas y muchos mimos.</p>
    <div class="btn-container">
      <div class="btn special" onclick="yes()">Â¡SÃ, MIL VECES SÃ! ğŸ˜</div>
      <div class="btn" id="runNo" style="background:#cfd8dc; border-color:#90a4ae; box-shadow: 0 6px 0px #90a4ae;">No ğŸ’”</div>
    </div>
  </div>
</section>

<section class="screen" id="count">
  <div class="card">
    <h1 style="color:#ff1744">Â¡BARCO A LA VISTA!</h1>
    <p>Â¡ESTO VA A EXPLOTAR!</p>
    <div id="countdown">3</div>
  </div>
</section>

<section class="screen" id="no">
  <div class="card">
    <h1>Â¡POR MIS PANTALONES! ğŸ˜±</h1>
    <p>Esa explosiÃ³n casi nos manda a la Luna. Merry, Â¿de verdad me vas a decir que no?</p>
    <div class="btn special" onclick="yes()">Â¡Fue una broma, SÃ! ğŸ¥°</div>
    <div class="btn" onclick="finalNo()">No es broma... ğŸ¦€</div>
  </div>
</section>

<section class="screen" id="finalNo">
  <div class="card">
    <h1>ğŸ˜­ MI PIÃ‘A SE QUEDÃ“ VACÃA</h1>
    <p>Incluso Calamardo llorarÃ­a ahora. Â¡Dale otra oportunidad al amor!</p>
    <div class="btn" onclick="restart()">Reiniciar ğŸ</div>
  </div>
</section>

<section class="screen" id="yes">
  <div class="card" style="border-color: var(--pink-patrick); border-width: 10px;">
    <h1>Â¡ERES MI NOVIA! ğŸ‰</h1>
    <p>Â¡Acabas de ganar el trofeo al mejor "SÃ" de la historia!</p>
    <p>Â¡Te quiero muchÃ­simo, Merry! â¤ï¸</p>
    <div class="btn gold" onclick="startAdventure()" style="background: var(--gold); border-color:#b8860b;">NUESTRO FUTURO ğŸš€</div>
  </div>
</section>

<div id="adventureMode">
  <div id="adventureText">Iniciando nuestra aventura...</div>
</div>

<script>
// 1. CARGA INICIAL
window.onload = () => {
  const fill = document.getElementById('fill');
  const text = document.getElementById('load-text');
  const messages = ["Cazando medusas...", "Limpiando la piÃ±a...", "Afandando espÃ¡tulas...", "Â¡LISTO!"];
  let p = 0;
  const interval = setInterval(() => {
    p += 10;
    fill.style.width = p + '%';
    if(p % 30 === 0) text.textContent = messages[p/30];
    if(p >= 100) {
      clearInterval(interval);
      document.getElementById('loading-screen').style.display = 'none';
      document.getElementById('s1').classList.add('active');
      initBubbles();
    }
  }, 300);
};

function initBubbles() {
  const container = document.getElementById('bgBubblesContainer');
  for(let i=0; i<25; i++) {
    const b = document.createElement('div');
    b.className = 'bg-bubble';
    const size = Math.random() * 45 + 15;
    b.style.width = size + 'px'; b.style.height = size + 'px';
    b.style.left = Math.random() * 100 + 'vw';
    b.style.animationDuration = (Math.random() * 4 + 5) + 's';
    b.style.animationDelay = (Math.random() * 5) + 's';
    container.appendChild(b);
  }
}

// 2. BOTÃ“N "NO" JUGUETÃ“N
let intentos = 0;
const btnNo = document.getElementById('runNo');
const mover = (e) => {
  if (intentos < 8) {
    e.preventDefault();
    const x = (Math.random() * 240) - 120;
    const y = (Math.random() * 240) - 120;
    btnNo.style.transform = `translate(${x}px, ${y}px)`;
    intentos++;
    if(intentos === 4) btnNo.textContent = "Â¡Casi! ğŸ¤­";
    if(intentos === 8) { btnNo.style.transform = "translate(0,0)"; btnNo.textContent = "Ouch ğŸ˜­"; }
  } else { startNo(); }
};
btnNo.addEventListener('touchstart', mover);
btnNo.addEventListener('click', (e) => { if(intentos < 8) mover(e); });

function next(n){
  document.getElementById('s'+n).classList.remove('active');
  document.getElementById('s'+(n+1)).classList.add('active');
}

function yes(){ hideAll(); document.getElementById('yes').classList.add('active'); }

// 3. EXPLOSIÃ“N Ã‰PICA MEJORADA
function startNo(){
  hideAll();
  document.getElementById('count').classList.add('active');
  let c = 3;
  const t = setInterval(() => {
    c--;
    document.getElementById('countdown').textContent = c;
    if(c === 0){ clearInterval(t); explode(); }
  }, 1000);
}

function explode(){
  hideAll();
  document.body.classList.add('shake-it');
  const flowers = ['ğŸŒ¸', 'ğŸŒ¼', 'ğŸŒº', 'ğŸ’ ', 'ğŸ«§'];
  
  for(let i=0; i<450; i++) {
    setTimeout(() => {
      const p = document.createElement('div');
      p.className = 'flower-particle';
      p.textContent = flowers[Math.floor(Math.random()*flowers.length)];
      p.style.left = '50vw'; p.style.top = '50vh';
      document.body.appendChild(p);
      
      if(i % 5 === 0) {
        const s = document.getElementById('popSound').cloneNode();
        s.volume = 0.3;
        s.play();
      }

      const angle = Math.random() * Math.PI * 2;
      const dist = Math.random() * 1200 + 400;
      const x = Math.cos(angle) * dist;
      const y = Math.sin(angle) * dist;

      p.animate([
        { transform: 'translate(-50%, -50%) scale(0) rotate(0deg)', opacity: 1 },
        { transform: `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) scale(3) rotate(720deg)`, opacity: 0 }
      ], { duration: 3500, easing: 'ease-out' });

      setTimeout(() => p.remove(), 3500);
    }, i * 6);
  }

  setTimeout(() => {
    document.body.classList.remove('shake-it');
    document.getElementById('no').classList.add('active');
  }, 7500);
}

// 4. MODO AVENTURA FINAL
function startAdventure() {
  document.getElementById('adventureMode').style.display = 'flex';
  const phrases = [
    "Â¡Nuestra primera cita serÃ¡ legendaria! ğŸ¨",
    "Advertencia: Exceso de abrazos detectado âš ï¸",
    "Merry + Yo = El mejor equipo de Fondo de Bikini âš“",
    "Â¿SabÃ­as que me haces el chico mÃ¡s feliz? ğŸ˜",
    "Â¡TE AMO, MI NOVIA HERMOSA! ğŸ’–"
  ];
  let idx = 0;
  setInterval(() => {
    document.getElementById('adventureText').textContent = phrases[idx];
    idx = (idx + 1) % phrases.length;
    for(let j=0; j<6; j++) spawnHeart();
  }, 2500);
}

function spawnHeart() {
  const h = document.createElement('div');
  h.className = 'heart-final';
  h.style.position = 'fixed';
  h.textContent = ['â¤ï¸','ğŸ’–','ğŸ’•','âœ¨','ğŸŒ¹','ğŸ•'][Math.floor(Math.random()*6)];
  h.style.left = Math.random() * 100 + 'vw';
  h.style.bottom = '-50px';
  h.style.fontSize = (Math.random()*20 + 30) + 'px';
  document.body.appendChild(h);
  h.animate([{bottom: '-50px', opacity:1}, {bottom: '110vh', opacity:0}], {duration: 4000});
  setTimeout(() => h.remove(), 4000);
}

function finalNo(){ hideAll(); document.getElementById('finalNo').classList.add('active'); }
function hideAll(){ document.querySelectorAll('.screen').forEach(s => s.classList.remove('active')); }
function restart(){ location.reload(); }
</script>
</body>
</html>
